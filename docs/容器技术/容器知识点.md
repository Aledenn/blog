# 容器技术原理
## 为什么要分层？
- 共享资源
## 可写的容器层
当容器启动时，一个新的可写层被加载到镜像的顶部。
这一层通常被称作`容器层`，`容器层`之下的都叫`镜像层`。
所有对容器的改动,都只会发生在容器层中。
## 过程
- 添加文件
  在容器中创建文件时，新文件被添加到容器层中。

- 读取文件 
  在容器中读取某个文件时，Docker 会从上往下依次在各镜像层中查找此文件。一旦找到，立即将其复制到容器层，然后打开并读入内存。

- 修改文件 
在容器中修改已存在的文件时，Docker 会从上往下依次在各镜像层中查找此文件。一旦找到，立即将其复制到容器层，然后修改之。

- 删除文件 
在容器中删除文件时，Docker 也是从上往下依次在镜像层中查找此文件。找到后，会在容器层中记录下此删除操作。

这种过程叫Copy-on-Write